<!DOCTYPE html>
<html lang="en">
  <head>
    <title>NDT7TCPInfo Structure Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Struct/NDT7TCPInfo" class="dashAnchor"></a>

    <a title="NDT7TCPInfo Structure Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          NDT7 Docs
        </a>
         (95% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/m-lab/ndt7-client-ios">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">NDT7 Reference</a>
      <img class="carat" src="../img/carat.png" />
      NDT7TCPInfo Structure Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/NDT7.html">NDT7</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/NDT7Test.html">NDT7Test</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/NDT7TestInteraction.html">NDT7TestInteraction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/URLSessionNDT7.html">URLSessionNDT7</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/URLSessionTaskNDT7.html">URLSessionTaskNDT7</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7APPInfo.html">NDT7APPInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7BBRInfo.html">NDT7BBRInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7ConnectionInfo.html">NDT7ConnectionInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7Measurement.html">NDT7Measurement</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7Server.html">NDT7Server</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7Settings.html">NDT7Settings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7TCPInfo.html">NDT7TCPInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7TestConstants.html">NDT7TestConstants</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7TestConstants/Origin.html">– Origin</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7TestConstants/Kind.html">– Kind</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7Timeouts.html">NDT7Timeouts</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7URL.html">NDT7URL</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7WebSocketConstants.html">NDT7WebSocketConstants</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7WebSocketConstants/MlabServerDiscover.html">– MlabServerDiscover</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NDT7WebSocketConstants/Request.html">– Request</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>NDT7TCPInfo</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">NDT7TCPInfo</span> <span class="p">:</span> <span class="kt">Codable</span></code></pre>

                </div>
              </div>
            <p>NDT7TCPInfo is an optional object only included in the measurement when it is possible to access TCP_INFO stats.</p>

<p>The MinRTT, RTT, and RTTVar fields can be used to compute the statistics of the round-trip time.
The buildup of a large queue is unexpected when using BBR.
It generally indicates the presence of a bottleneck with a large buffer that&rsquo;s filling as the test proceeds.
The MinRTT can also be useful to verify we&rsquo;re using a reasonably nearby-server.
Also, an unreasonably small RTT when the link is 2G or 3G could indicate a performance enhancing proxy.</p>

<p>The times (BusyTime, RWndLimited, and SndBufLimited) are useful to understand where the bottleneck could be.
In general we would like to see that we&rsquo;ve been busy for most of the test runtime.
If RWndLimited is large, then it means that the receiver does not have enough buffering to go faster and it is limiting our performance.
Likewise, when SndBufLimited is large, the sender&rsquo;s buffer is too small.
Also, if adding up these three times gives us less time than the duration of the test,
it generally means that the sender was not filling the send buffer fast enough for keeping TCP busy,
thus slowing us down.</p>

<p>The amount of BytesAcked combined with the ElapsedTime gives us the average speed at which we&rsquo;ve been sending, measured in the kernel.
Because of the measurement unit used, by default the speed will be in bytes per microsecond.
Typically the speed of file transfers is measured instead in bytes per second, so you need to multiply by 10^6.
To obtain the speed in bits per second, which is the typical unit with which we measure the speed of links (e.g. Wi-Fi), also multiply by 8.</p>

<p>BytesReceived is just like BytesAcked, except that BytesAcked makes sense for the sender
(e.g. the server during the download), while BytesReceived makes sense for the receiver (e.g. the server during the upload).</p>

<p>BytesSent and BytesRetrans can be used to compute the percentage of bytes overall that have been retransmitted.
In turn, this is value approximates the packet loss rate, i.e. the (unknown) probability with which the network is likely to drop a packet.
This approximation is really bad because it assumes that the probability of dropping a packet is uniformly distributed,
which isn&rsquo;t likely the case. Yet, it may be an useful first order information to characterise a network as possibly very lossy.
Some packet loss is normal and healthy,
but too much packet loss is the sign of a network path with systemic problems.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV8busyTimes5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/busyTime" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV8busyTimes5Int64VSgvp">busyTime</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>busyTime aka tcpi_busy_time (an optional Int64),
i.e. the number of microseconds spent actively sending data because the write queue of the TCP socket is non-empty.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">busyTime</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV10bytesAckeds5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/bytesAcked" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV10bytesAckeds5Int64VSgvp">bytesAcked</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>bytesAcked aka tcpi_bytes_acked (an optional Int64),
i.e. the number of bytes for which we received acknowledgment.
Note that this field, and all other TCPInfo fields, contain the number of bytes measured at TCP/IP level
(i.e. including the WebSocket and TLS overhead).</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">bytesAcked</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV13bytesReceiveds5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/bytesReceived" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV13bytesReceiveds5Int64VSgvp">bytesReceived</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>bytesReceived aka tcpi_bytes_received (an optional Int64),
i.e. the number of bytes for which we sent acknowledgment.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">bytesReceived</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV9bytesSents5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/bytesSent" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV9bytesSents5Int64VSgvp">bytesSent</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>bytesSent aka tcpi_bytes_sent (an optional Int64),
i.e. the number of bytes which have been transmitted or retransmitted.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">bytesSent</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV12bytesRetranss5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/bytesRetrans" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV12bytesRetranss5Int64VSgvp">bytesRetrans</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>bytesRetrans aka tcpi_bytes_retrans (an optional Int64),
i.e. the number of bytes which have been retransmitted.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">bytesRetrans</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV11elapsedTimes5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/elapsedTime" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV11elapsedTimes5Int64VSgvp">elapsedTime</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>elapsedTime (an optional Int64),
this field indicates the moment in which TCP_INFO data has been generated, and therefore is generally useful.
i.e. the time elapsed since the beginning of this test, measured in microseconds.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">elapsedTime</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV6minRTTs5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/minRTT" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV6minRTTs5Int64VSgvp">minRTT</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>minRTT aka tcpi_min_rtt (an optional Int64),
i.e. the minimum RTT seen by the kernel, measured in microseconds.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">minRTT</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV3rtts5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/rtt" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV3rtts5Int64VSgvp">rtt</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>rtt aka tcpi_rtt (an optional Int64), i.e. the current smoothed RTT value, measured in microseconds.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">rtt</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV6rttVars5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/rttVar" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV6rttVars5Int64VSgvp">rttVar</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>rttVar aka tcpi_rtt_var (an optional Int64), i.e. the variance or RTT.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">rttVar</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV11rwndLimiteds5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/rwndLimited" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV11rwndLimiteds5Int64VSgvp">rwndLimited</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>rwndLimited aka tcpi_rwnd_limited (an optional Int64),
i.e. the amount of microseconds spent stalled because there is not enough buffer at the receiver.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">rwndLimited</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4NDT70A7TCPInfoV13sndBufLimiteds5Int64VSgvp"></a>
                    <a name="//apple_ref/swift/Property/sndBufLimited" class="dashAnchor"></a>
                    <a class="token" href="#/s:4NDT70A7TCPInfoV13sndBufLimiteds5Int64VSgvp">sndBufLimited</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>sndBufLimited aka tcpi_sndbuf_limited (an optional Int64),
i.e. the amount of microseconds spent stalled because there is not enough buffer at the sender.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">sndBufLimited</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="https://github.com/m-lab" target="_blank" rel="external">Miguel Nieto</a>. All rights reserved. (Last updated: 2020-01-27)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.11.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
